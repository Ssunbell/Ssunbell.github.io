---
title:  "[MRC]ERNIE-Layout: Layout Knowledge Enhanced Pre-training for Visually-rich Document Understanding 논문 리뷰"
date: '2022-12-10 13:59:00 +09:00'
category: [논문, Moosic하게 Reading Comprehension]
tags: [NLP, 대회, RE, NER]
use_math: true
---

![](/assets/img/B/b0.png)

# 무식하게 논문읽기(MRC) ERNIE-Layout 편🔥

## [초록](https://arxiv.org/pdf/2102.09550.pdf)
우리는 일반적인 텍스트 문서를 넘어서는 자연어 처리 이해 도전 과제를 TILT 신경망 아키텍쳐를 이용하여 해결하고자 한다. TILT 신경망 아키텍쳐는 레이아웃 정보, 시각적 특징 및 텍스트 의미론을 동시다발적으로 학습하는 구조이다. 이전 접근법과 다르게 우리는 자연어 처리를 포함하는 다양한 문제를 통합하여 해결할 능력이 있는 디코터를 사용한다. 우리의 모델 핵심은 인코더-디코더 트랜스포머 구조이다. 이 구조에서 레이아웃은 attention 메커니즘의 편향값으로 표현되며, 맥락화된 시각적 정보를 보완해준다. 우리의 새로운 접근법은 까다로운 레이아웃 이해가 필요한 task인 문서에서 정보를 뽑아서 질의응답을 하는 task(DocVQA, CORD, SROIE)에서 SOTA를 달성했다. 동시에, 우리는 end-to-end 모델을 사용하여 프로세스를 단순화했다.

## 소개
대부분의 자연어처리에서의 task는 질문, 문맥 및 응답의 세가지 요소를 뱉어내는 하나의 프레임워크로 통합될 수 있다[29, 39, 26]. 우리는 문맥 정보가 텍스트 레이아웃까지 확장하는 까다로운 시나리오에서 문서 분류(Document Classification) 키 정보 추출(Key Information Extraction)과 질의응답(Qustion Answering)을 통합하는 방식으로 고려한다. 이러한 도전 과제는 계약서, 폼, 응용 프로그램, 및 송장 등이 다양한 문서 유형과 복잡한 공간 레이아웃을 포함하기 때문에 비즈니스에서 빈번하게 발생하는 문제이다.

### 공간적 시각화 관계의 중요성(Importance of Spatio-Visual Relations)
NLP에서 가장 주목할만한 성과는 원시 텍스트 입력값을 원시 텍스트 아웃풋으로 맵핑하는 모델이며, 이것은 대게 디지털 형태로 제공되었다. 현실 세계로부터 나타난 과제 중 중요한 측면은 이미지로 스캔한 종이 문서가 있다는 것과 디지털화된 아날로그 물체가 있다는 것이다.


결과적으로 문서 레이아웃 또는 읽기 순서와 관련한 정보가 잘 없고, 이런 정보는 우리의 처리 과정 내에서 우리가 결정해야 한다. 더욱이, 레이아웃을 벗어난 도형이나 차트의 해석은 주어진 질문에 답하는 데에 도움이 될 것이다. 시스템은 텍스트에만 의존할 수 없으며 구조와 이미지 정보를 통합해야 한다.


![](/assets/img/2022-12-07/figure1.png)
*그림 1 모달리티에 따라 똑같은 문서라도 다르게 인식됨. 왼쪽부터 : 이미지 측면, 관찰된 단어의 바운딩 박스 사이의 공간적 관계 그리고 읽는 순서로 OCR을 돌려서 추출한 구조화되지 않은 텍스트*

따라서 이 근본적인 문제를 해결하는 데는 세 가지가 필요합니다. 풍부한 형식의 문서에서 핵심 정보를 추출하는 것은 정확히 NLP, 컴퓨터 비전 및 레이아웃 분석의 교차점에 있습니다(그림 1). 이러한 과제는 NLP를 넘어서는 추가적인 조건들을 주지만, 우리는 이것을 인코더-디코더 프레임워크 내에서 레이아웃 인식 모델을 공식화함으로써 회피하고자 한다.


### 시퀀스 라벨링의 한계(Limitation of Sequence Labeling)
시퀀스 레이블링 모델은 토큰 레벨의 주석을 활용하거나 쉽게 얻을 수 있는 모든 경우에 쉽게 훈련이 가능하다. 이 접근 방식의 한계점은 핵심 정보 추출 또는 속성 추출 페러다임으로 한정된 task에서 두드러지게 나타난다[19,9]. 여기서 주석이 달린 범위를 사용할 수 없으며, 오직 문서에 할당된 속성-값 쌍만을 사용해야 한다. 때때로, 모델로부터 문서의 특정 하위 시퀀스를 표시하는 것을 기대할 때도 있다. 그러나 시퀀스 라벨링 기법을 가정한다면 기대값이 우리가 생각하는 텍스트에 포함되는 문자열이 아니라면 이러한 문제는 해결할 수 없다(표 1). 결과적으로, 저자가 적용한 SOTA 속성 인식 모델들은 사람이 만든 휴리스틱 모델이나 시간이 많이 소모되는 규칙 기반 엔지니어링 모델에 의존할 수 밖에 없다.

![](/assets/img/2022-12-07/table1.png)
*표1 추출 task 비교. 우리의 추정 결과 NER 문서의 하위 문자열에서 기대되는 값들이 있지만 다른 위치에는 존재하지 않았다.*


시퀀스 레이블링 방법을 사용할 때 해결해야 하는 특정 문제는 세 그룹으로 나눌 수 있습니다. 우리는 이 접근법의 한계를 정확하게 지적하기 위해 아래에서 세가지 방법들을 조사한다.


예를 들어, SROIE 데이터 셋에서 영수증의 총 금액을 예로 들 수 있습니다[19]. 예를 들어 OCR 오류로 잘못된 판독 순서 또는 다른 구분 기호 사용으로 인해 문서에서 기대되는 값과 정확히 일치하지 않는다고 가정한다. 안타깝게도 시퀀스 레이블링 모델은 과거 모델에서 적용할 수 없다. 속성 추출을 다루는 저자들은 전체적인 종단 간 결과에 영향을 미치는 수동 주석 또는 휴리스틱 기반 태그 지정 절차에 의존한다[56, 52, 11, 18, 55, 36]. 게다가, 하나의 품목이 나열된 영수증을 고려할 때, 총 금액은 단일 품목 가격과 동일하며, 이것은 또 다른 문제의 원인이다. 정확하게, 문서의 값에 대해 일치하는 항목이 여러 개 있을 경우, 부분적으로 태그를 지정할지 여부가 모호하다.


또 다른 해결해야 할 문제는 탐지된 속성 중 몇 개를 반환해야 하는지, 어떻게든지 출력을 정상화해야 하는지 여부입니다. 결과적으로, Klesister의 저자들은 엔티티 값의 최종 선택을 위한 일련의 수작업 규칙을 제안했다[52]. 이러한 규칙과 이와 유사한 규칙은 노동 집약적이거나 오류가 발생하기 쉽습니다 [40].


마지막으로, 속성 추출 패러다임은 문서 분류 또는 비추출적 질의응답에서와 같이 내용으로부터 추론 가능하기에 충분하기 때문에 어떤 형태로든 요청된 값이 문서에 나타난 값이라고 가정하지 않는다[9].


### 인코더-디코더 모델 의존성(Resorting to Encoder-Decoder Models)
시퀀스 레이블링 기반의 추출은 감지된 정보가 사용되는 최종 목적과의 연결성이 떨어지기 때문에 일반적인 현실 세계의 시나리오는 핵심 정보 추출의 방식을 필요로 한다. 이러한 문제를 해결하기 위해, 우리는 적용 가능한 인코더-디코더 아키텍쳐에 주목하기 시작했는데, 인코더-디코더 구조는 입력값이 명시적으로 포함되어있지 않은 값을 생성하고 자연어 처리를 포함한 텍스트 기반의 문제들에 잘 작동하기 때문이다. 여기에 더해서, 이전에 복잡한 아키텍쳐 변경으로 해결할 수 있었던 탐지된 **단어 순서**에 의해 의해 모델의 결과값이 제한될수 밖에 없었던 시퀀스 레이블링의 만연한 한계를 극복한다.


